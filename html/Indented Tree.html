<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <script src="../js/lib/d3/d3.js"> </script>
</head>
<body>
<div id="chart"></div>
<script src="../js/lib/jquery/jquery.js"> </script>
<script src="../js/lib/misoproject/dataset/dist/miso.ds.deps.0.1.2.js"> </script>
<script type="text/javascript">
    var ds = new Miso.Dataset({
        data: [
            { one : 1, two : 4, three : 7 },
            { one : 2, two : 5, three : 8 }
        ]
    });

    var globalstring = "globalString";

    ds.fetch({
        success: function() {
            this.addColumn({
                type: 'string',
                name: 'fours'
            });

            a= new Object();
            a.fours="";

            // update all rows where col three == 7
            this.update(function(row) {
                a.fours = row.one.toString();
                console.log("a.fours is a " + typeof(a.fours));
                return true;
            }, a  );
            console.log(this.column('fours').data);

        }
    });

</script>

</body>
</html>